# 《Python程序设计基础》程序设计作品说明书

题目： 外星人入侵游戏👽

学院： 21计科02

姓名： 王日晖

学号： B20210302221

指导教师： 周景

起止日期：2023.11.10-2023.12.10

## 摘要
```
本项目是一个外星人入侵游戏，玩家需要驾驶飞船射击外星人并尽可能地提高等级和计分。游戏包括创建游戏窗口、添加飞船图像、创建外星人、实现移动和射击功能、添加Play按钮以及绘制游戏背景等多个功能。此外，游戏还可以将最高分保存到文件中。

关键词：外星人入侵游戏、飞船、子弹、外星人、移动、射击、等级、计分、Play按钮、游戏背景、最高分、文件操作
```
## 第1章 需求分析
```
1. 游戏窗口：需要创建一个游戏窗口，以便玩家可以在其中进行游戏。游戏窗口应该包括游戏背景、飞船和外星人等元素。
2. 飞船和子弹：玩家需要驾驶飞船进行游戏，飞船应该能够在游戏窗口中移动，并且能够发射子弹进行攻击。
3. 外星人：需要创建一群外星人，它们应该在游戏窗口中移动，并且玩家需要射杀它们以提高等级和计分。
4. 等级和计分：游戏应该有等级和计分系统，以便玩家可以了解自己的游戏进度和成就。
5. Play按钮：需要添加Play按钮，以便玩家可以开始游戏。
6. 游戏背景：游戏窗口应该有一个游戏背景，以便玩家可以感受到游戏的氛围。
7. 最高分保存：游戏应该能够将玩家的最高分保存到文件中，以便下次游戏时可以继续使用。
```
以上是外星人入侵游戏的需求分析，实现这些需求可以让玩家在游戏中获得更好的体验。

## 第2章 分析与设计

系统架构：
```
本游戏将采用基于Python的Pygame库进行开发，Pygame是一个专为游戏开发而设计的Python库，提供了丰富的游戏开发功能和工具。游戏的主要模块包括游戏窗口管理、图像绘制、用户输入处理、游戏逻辑和文件操作。
```
系统流程：
```
1. 游戏开始时，显示游戏窗口和Play按钮。
2. 玩家点击Play按钮后，游戏开始，飞船出现在屏幕左侧，外星人群随机出现在屏幕上方。
3. 玩家可以使用键盘控制飞船移动，并按空格键发射子弹。
4. 外星人群移动并向下移动，当玩家的子弹击中外星人时，外星人消失并玩家得分增加。
5. 如果外星人触及屏幕底部或者飞船被外星人击中，游戏结束。
6. 游戏结束后，将玩家的最高分保存到文件中。
```
系统模块：
```
- 游戏窗口管理模块：负责创建游戏窗口，处理窗口事件等。
- 飞船模块：包括飞船的图像加载、移动控制、射击等功能。
- 外星人模块：包括外星人的图像加载、移动、碰撞检测等功能。
- 游戏逻辑模块：负责处理游戏的逻辑流程，包括游戏开始、进行中、结束等状态的管理。
- 文件操作模块：负责保存和读取玩家的最高分。
```
数据库设计：
本游戏不需要使用数据库，最高分将以文件形式保存在本地。
```
关键实现：
- 图像绘制：使用Pygame库中的图像加载和绘制功能，加载飞船、外星人和背景图像。
- 碰撞检测：使用Pygame库提供的碰撞检测功能，检测子弹和外星人、外星人和飞船的碰撞。
- 用户输入处理：使用Pygame库提供的事件处理功能，处理玩家的键盘输入和鼠标点击事件。
- 文件操作：使用Python的文件操作功能，将玩家的最高分保存到文件中，并在需要时读取。
```
## 第3章 软件测试

单元测试：
在本游戏中，可以对各个模块中的类和函数进行单元测试。例如，对飞船模块中的飞船移动函数、外星人模块中的外星人移动函数等进行单元测试。
```
测试用例：
1. 测试飞船移动功能：
   - 输入：按下键盘左箭头键
   - 预期输出：飞船向左移动
2. 测试外星人移动功能：
   - 输入：外星人群向左移动
   - 预期输出：外星人群整体向左移动一定距离
3. 测试子弹射击功能：
   - 输入：按下空格键
   - 预期输出：飞船发射一枚子弹
4. 测试碰撞检测功能：
   - 输入：子弹击中外星人
   - 预期输出：外星人消失，玩家得分增加
```

### 单元测试用例

| \#  | 测试目标 | 输入 | 预期结果 | 测试结果 |
| --- | --------- | ----- | ---------------- | ----------------- |
| 1   |飞船移动功能|按下键盘左箭头键|飞船向左移动|通过|
| 2   |外星人移动功能|外星人群向左移动|外星人群整体向左移动一定距离|通过|
| 3   |子弹射击功能|按下空格键|飞船发射一枚子弹|通过|
| 4   |碰撞检测功能|子弹击中外星人|外星人消失，玩家得分增加|通过|

以上是对游戏中主要功能的测试用例和测试报告。通过这些测试用例的执行，可以验证游戏的各项功能是否符合预期，并且可以及时发现和修复潜在的问题。
## 结论
```
本项目主要实现了一个基于Pygame库的飞船射击游戏，包括飞船的移动、射击功能，外星人的移动、碰撞检测等功能。项目达到了以下目标：
1. 实现了基本的游戏功能，包括玩家控制飞船进行射击，击败外星人获取分数。
2. 使用了Pygame库进行图像加载、事件处理等游戏开发相关功能。
3. 实现了单元测试，对游戏中的主要功能进行了测试，验证了功能的正确性。

然而，项目还存在一些不足之处：
1. 可能存在性能问题，特别是在外星人数量增多时，游戏性能可能下降。
2. 游戏的界面和交互设计可以进一步优化，增加游戏的可玩性和趣味性。
3. 缺乏高级功能，如多关卡、道具系统等，使得游戏的可玩性有限。

为了改进项目，可以考虑以下方面的改进：
1. 优化游戏性能，尤其是在处理大量外星人时的性能优化。
2. 增加游戏的可玩性，可以引入多种不同类型的外星人、道具系统、多关卡等高级功能。
3. 完善游戏的界面设计，增加音效、特效等元素，提升游戏的娱乐性和用户体验。

总之，本项目实现了一个基础的飞船射击游戏，并且通过单元测试验证了游戏的主要功能的正确性。在未来的改进中，可以进一步优化性能，增加高级功能，提升游戏的可玩性和娱乐性。
```
## 参考文献
```
1. Pygame官方文档. https://www.pygame.org/docs/

2. Python官方文档. https://docs.python.org/3/

3. Matthes, Eric. "Python编程：从入门到实践". 人民邮电出版社, 2016.

4. Stack Overflow. https://stackoverflow.com/
```
以上参考文献帮助我更好地理解Python编程和Pygame游戏开发，以及解决在项目中遇到的问题。
